{"version":3,"sources":["store/pythesis/actions.js","store/pythesis/reducers.js","store/index.js","components/PdfViewer.js","components/Console.js","components/App.js","serviceWorker.js","index.js","../node_modules/pdfjs-dist/build sync","components/loading.svg"],"names":["consoleOut","type","payload","consoleToggle","dispatch","getState","consoleOpen","pythesis","queryConfig","fetch","concat","process","then","result","json","config","translatePages","offset","n","pageNumber","numPages","setNumPages","translateZoom","zoom","initialState","args","timestamp","Date","now","uri","selectedProject","pdfPath","rootReducer","combineReducers","state","arguments","length","undefined","action","_objectSpread","store","createStore","composeWithDevTools","applyMiddleware","thunk","logger","pdfjs","GlobalWorkerOptions","workerSrc","version","PdfViewer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onDocumentLoadSuccess","_ref","buildResult","loading","output","zoomIncrement","viewerRef","React","createRef","documentRef","pageNumberRef","current","focus","_this2","react_default","a","createElement","className","ref","tabIndex","onKeyDown","e","handleKeyDown","document","onClick","index_es","icon","faArrowLeft","faArrowRight","fullBuild","faPlay","setState","faSync","faSearchPlus","faSearchMinus","faTerminal","value","onKeyPress","stopPropagation","charCode","parseInt","setPageNumber","src","loadingSvg","style","display","width","clientWidth","entry","file","onLoadSuccess","size","wrap","build","buildUrl","_this3","response","text","catch","err","keyCode","partialBuild","partialExecute","Component","connect","PdfViewer_objectSpread","bindActionCreators","Console","consoleRef","scrollIntoView","out","App","components","console","log","dist","handleWidth","handleColor","height","minHeight","src_components_PdfViewer","src_components_Console","App_objectSpread","Boolean","window","location","hostname","match","ReactDOM","render","es","src_components_App","getElementById","webpackEmptyContext","req","Error","code","keys","resolve","module","exports","id","__webpack_require__","p"],"mappings":"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","file":"static/js/main.ff9513a4.chunk.js","sourcesContent":["export const QUERY_ARGS       = 'QUERY_ARGS'\r\nexport const QUERY_CONFIG     = 'QUERY_CONFIG'\r\nexport const CONSOLE_TOGGLE   = 'CONSOLE_TOGGLE'\r\nexport const CONSOLE_OUT      = 'CONSOLE_OUTPUT'\r\nexport const BUILD            = 'BUILD'\r\nexport const SELECT_FILE      = 'SELECT_FILE'\r\nexport const TRANSLATE_PAGES  = 'TRANSLATE_PAGES'\r\nexport const SET_PAGE_NUMBER  = 'SET_PAGE_NUMBER'\r\nexport const SET_NUM_PAGES    = 'SET_NUM_PAGES'\r\nexport const TRANSLATE_ZOOM   = 'TRANSLATE_ZOOM'\r\nexport const RELOAD           = 'RELOAD'\r\n\r\nexport const consoleOut = (consoleOut) => {\r\n  return {\r\n    type: CONSOLE_OUT,\r\n    payload: {\r\n      consoleOut: consoleOut\r\n    }\r\n  }\r\n}\r\n\r\nexport const consoleToggle = () => {\r\n  return (dispatch, getState) => {\r\n    const { pythesis } = getState()\r\n    return dispatch({\r\n      type: CONSOLE_TOGGLE,\r\n      payload: {\r\n        consoleOpen: !pythesis.consoleOpen // Inverse open\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const queryConfig = () => {\r\n  return (dispatch, getState) => {\r\n    fetch(`${process.env.REACT_APP_SERVER}/config`)\r\n    .then(result => result.json())\r\n    .then(result => {\r\n      return dispatch({\r\n        type: QUERY_CONFIG,\r\n        payload: {\r\n          config: result\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport const build = () => {\r\n  return (dispatch, getState) => {\r\n    return dispatch({\r\n      type: BUILD\r\n    })\r\n  }\r\n}\r\n\r\nexport const setPageNumber = (pageNumber) => {\r\n  return (dispatch, getState) => {\r\n    const { pythesis } = getState()\r\n    if (pageNumber > 0 && pageNumber < pythesis.numPages) {\r\n      return dispatch({\r\n        type: SET_PAGE_NUMBER,\r\n        payload: {\r\n          pageNumber: pageNumber\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const translatePages = (offset) => {\r\n  return (dispatch, getState) => {\r\n    const { pythesis } = getState()\r\n    let n = pythesis.pageNumber + offset\r\n\r\n    if (n > 0) {\r\n      if (n <= pythesis.numPages) {\r\n        // Only dispatch if page number is still valid:\r\n        return dispatch({\r\n          type: TRANSLATE_PAGES,\r\n          payload: {\r\n            pageNumber: n\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const setNumPages = (numPages) => {\r\n  return (dispatch, getState) => {\r\n    return dispatch({\r\n      type: SET_NUM_PAGES,\r\n      payload: {\r\n        numPages: numPages\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const translateZoom = (offset) => {\r\n  return (dispatch, getState) => {\r\n    const { pythesis } = getState()\r\n    let n = pythesis.zoom + offset\r\n    if (n >= 0.5) {\r\n      if (n <= 5) {\r\n        return dispatch({\r\n          type: TRANSLATE_ZOOM,\r\n          payload: {\r\n            zoom: n\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const reload = () => {\r\n  return (dispatch, getState) => {\r\n    return dispatch({\r\n      type: RELOAD\r\n    })\r\n  }\r\n}\r\n","import {\r\n  QUERY_CONFIG, \r\n  QUERY_ARGS,\r\n  CONSOLE_OUT,\r\n  CONSOLE_TOGGLE,\r\n  BUILD,\r\n  TRANSLATE_PAGES,\r\n  SET_PAGE_NUMBER,\r\n  SET_NUM_PAGES,\r\n  TRANSLATE_ZOOM,\r\n  RELOAD\r\n} from './actions'\r\n\r\nconst initialState = {\r\n  consoleOut: 'PyThesis v1.0',\r\n  numPages: 1,\r\n  config: null,\r\n  args: null,\r\n  pageNumber: 1,\r\n  timestamp: Date.now(),\r\n  zoom: 1,\r\n  uri: '',\r\n  selectedProject: 0,\r\n  consoleOpen: false,\r\n  pdfPath: 'build/document.pdf'\r\n}\r\n\r\nexport const pythesisReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CONSOLE_OUT: {\r\n      return {\r\n        ...state,\r\n        consoleOut: action.payload.consoleOut\r\n      }\r\n    }\r\n    case CONSOLE_TOGGLE: {\r\n      return {\r\n        ...state,\r\n        consoleOpen: action.payload.consoleOpen\r\n      }\r\n    }\r\n    case QUERY_CONFIG: {\r\n      return {\r\n        ...state,\r\n        config: action.payload.config\r\n      }\r\n    }\r\n    case QUERY_ARGS: {\r\n      return {\r\n        ...state,\r\n        args: action.payload.args\r\n      }\r\n    }\r\n    case BUILD: {\r\n      return {\r\n        ...state,\r\n        uri: action.payload.uri\r\n      }\r\n    }\r\n    case TRANSLATE_PAGES: {\r\n      return {\r\n        ...state,\r\n        pageNumber: action.payload.pageNumber\r\n      }\r\n    }\r\n    case SET_PAGE_NUMBER: {\r\n      return {\r\n        ...state,\r\n        pageNumber: action.payload.pageNumber\r\n      }\r\n    }\r\n    case SET_NUM_PAGES: {\r\n      return {\r\n        ...state,\r\n        numPages: action.payload.numPages\r\n      }\r\n    }\r\n    case TRANSLATE_ZOOM: {\r\n      return {\r\n        ...state,\r\n        zoom: action.payload.zoom\r\n      }\r\n    }\r\n    case RELOAD: {\r\n      return {\r\n        ...state,\r\n        uri: action.payload.uri\r\n      }\r\n    }\r\n    default: {\r\n      return state\r\n    }\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { pythesisReducer } from './pythesis/reducers'\r\nimport { logger }  from 'redux-logger'\r\n\r\nconst rootReducer = combineReducers({\r\n  pythesis: pythesisReducer\r\n})\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk, logger))\r\n)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  consoleOut,\r\n  consoleToggle,\r\n  translatePages,\r\n  setPageNumber, \r\n  translateZoom,\r\n  setNumPages\r\n} from '../store/pythesis/actions'\r\nimport { Document, PDFViewer, Page, pdfjs } from 'react-pdf'\r\nimport loadingSvg from './loading.svg'\r\nimport './PdfViewer.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faArrowLeft,\r\n  faArrowRight,\r\n  faTerminal,\r\n  faPlay,\r\n  faSync,\r\n  faSearchPlus,\r\n  faSearchMinus\r\n} from '@fortawesome/free-solid-svg-icons'\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n\r\nclass PdfViewer extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      timestamp: Date.now(),\r\n      buildResult: '',\r\n      loading: false,\r\n      output: 'PyThesis - A LaTeX Transpiler'\r\n    }\r\n\r\n    this.zoomIncrement = 0.02\r\n    this.viewerRef = React.createRef()\r\n    this.documentRef = React.createRef()\r\n    this.pageNumberRef = React.createRef()\r\n  }\r\n  onDocumentLoadSuccess = ({ numPages }) => {\r\n    this.props.dispatch(setNumPages(numPages))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.viewerRef.current.focus()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"PdfViewer\"\r\n        ref={this.viewerRef}\r\n        tabIndex=\"1\"\r\n        onKeyDown={\r\n          (e) => {\r\n            this.handleKeyDown(e)\r\n          }\r\n        }>\r\n        <div className=\"document-container\">\r\n          {this.document()}\r\n        </div>\r\n        <div className=\"controls\">\r\n          <button\r\n            onClick={(e) => {this.props.dispatch(translatePages(-1))}}>\r\n            <FontAwesomeIcon icon={faArrowLeft} />\r\n          </button>\r\n          <button\r\n            onClick={(e) => {this.props.dispatch(translatePages(1))}}>\r\n            <FontAwesomeIcon icon={faArrowRight} />\r\n          </button>\r\n          <button\r\n            onClick={(e) => {this.fullBuild()}}>\r\n            <FontAwesomeIcon icon={faPlay} />\r\n          </button>\r\n          <button\r\n            onClick={(e) => {this.setState({timestamp: Date.now()})}}>\r\n            <FontAwesomeIcon icon={faSync} />\r\n          </button>\r\n          <button onClick={(e) => {this.props.dispatch(translateZoom(this.zoomIncrement))}}>\r\n            <FontAwesomeIcon icon={faSearchPlus} />\r\n          </button>\r\n          <button onClick={(e) => {this.props.dispatch(translateZoom(-this.zoomIncrement))}}>\r\n            <FontAwesomeIcon icon={faSearchMinus} />\r\n          </button>\r\n          <button onClick={(e) => {this.props.dispatch(consoleToggle())}}>\r\n            <FontAwesomeIcon icon={faTerminal} />\r\n          </button>\r\n        </div>\r\n        <div className=\"jump-to\">\r\n          <span className=\"label\">Jump to page:</span>\r\n          <input\r\n            type=\"text\"\r\n            ref={this.pageNumberRef}\r\n            onClick={e => {\r\n              this.pageNumberRef.current.value = ''\r\n            }}\r\n            onKeyPress={e => {\r\n              e.stopPropagation()\r\n              if (e.charCode == 13) { // Enter\r\n                const pageNumber = parseInt(this.pageNumberRef.current.value)\r\n                this.props.dispatch(setPageNumber(pageNumber))\r\n                this.pageNumberRef.current.value = ''\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"page\">\r\n          Page {this.props.pythesis.pageNumber} of {this.props.pythesis.numPages}\r\n        </div>\r\n        <img\r\n            className=\"loading\" \r\n            src={loadingSvg} \r\n            style={this.state.loading ? {display: 'block'} : {display: 'none'}}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  document() {\r\n    let width = 600\r\n    if (this.viewerRef.current) {\r\n      width = this.viewerRef.current.clientWidth * 0.4\r\n    }\r\n    width = width * this.props.pythesis.zoom\r\n\r\n    const projectIndex = this.props.pythesis.selectedProject\r\n    let uri = `${process.env.REACT_APP_SERVER}/pdf?timestamp=${this.state.timestamp}`\r\n\r\n    return(\r\n      <div\r\n        className=\"document\"\r\n        style={{width: width}}\r\n        ref={this.documentRef}>\r\n        <Document\r\n          file={uri}\r\n          onLoadSuccess={this.onDocumentLoadSuccess}>\r\n          <Page\r\n            pageNumber={this.props.pythesis.pageNumber}\r\n            size=\"A4\"\r\n            wrap={false}\r\n            width={width} />\r\n        </Document>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  fullBuild() {\r\n    this.build(`${process.env.REACT_APP_SERVER}/full_build`)\r\n  }\r\n\r\n  partialBuild() {\r\n    this.build(`${process.env.REACT_APP_SERVER}/partial_build`)\r\n  }\r\n\r\n  partialExecute() {\r\n    this.build(`${process.env.REACT_APP_SERVER}/partial_execute`)\r\n  }\r\n\r\n  build(buildUrl) {\r\n    this.setState({\r\n      loading: true,\r\n      output: 'Building document ...'\r\n    })\r\n\r\n    fetch(buildUrl)\r\n    .then((response) => {\r\n      response.text()\r\n      .then((text) => {\r\n        this.setState({\r\n          timestamp: Date.now(), // Trigger document reload,\r\n          loading: false\r\n        })\r\n        this.props.dispatch(consoleOut(text))\r\n      })\r\n    })\r\n    .catch((err) => {\r\n      this.setState({\r\n        output: err,\r\n        loading: false\r\n      })\r\n    })\r\n  }\r\n\r\n  handleKeyDown(e) {\r\n    switch (e.keyCode) {\r\n      case 39: { // Arrow right\r\n        this.props.dispatch(translatePages(1))\r\n        break\r\n      }\r\n      case 37: { // Arrow left\r\n        this.props.dispatch(translatePages(-1))\r\n        break\r\n      }\r\n      case 107: { // Add\r\n        this.props.dispatch(translateZoom(this.zoomIncrement))\r\n        break\r\n      }\r\n      case 109: { // Subtract\r\n        this.props.dispatch(translateZoom(-this.zoomIncrement))\r\n        break\r\n      }\r\n      case 82: { // r\r\n        this.setState({\r\n          timestamp: Date.now() // Force reload\r\n        })\r\n        break\r\n      }\r\n      case 66: { // b\r\n        this.fullBuild()\r\n        break\r\n      }\r\n      case 80: { // p\r\n        this.partialBuild()\r\n        break\r\n      }\r\n      case 69: { // e\r\n        this.partialExecute()\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n    pythesis: state.pythesis\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    ...bindActionCreators({\r\n      consoleOut,\r\n      consoleToggle,\r\n      translatePages,\r\n      translateZoom,\r\n      setNumPages\r\n    }),\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PdfViewer)\r\n","import './Console.css'\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport React, { Component } from 'react'\r\n\r\nclass Console extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.consoleRef = React.createRef()\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.consoleRef.current.scrollIntoView(false)\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div className=\"Console\">\r\n        <div className=\"output\" ref={this.consoleRef}>\r\n          {this.props.out}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    consoleOut: state.pythesis.consoleOut\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Console)\r\n","import React, { Component } from 'react'\r\nimport { Resize, ResizeVertical, ResizeHorizon } from \"react-resize-layout\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { queryConfig } from '../store/pythesis/actions'\r\nimport PdfViewer from './PdfViewer'\r\nimport Console from './Console'\r\nimport './App.css'\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(queryConfig())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {this.components()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  components() {\r\n    console.log('Props: ')\r\n    console.log(this.props)\r\n    if (this.props.consoleOpen) {\r\n      return(\r\n        <Resize handleWidth=\"5px\" handleColor=\"#fff\">\r\n          <ResizeVertical height=\"80%\" minHeight=\"20px\">\r\n            <PdfViewer />\r\n          </ResizeVertical>\r\n          <ResizeVertical height=\"160px\" minHeight=\"20px\">\r\n            <Console/>\r\n          </ResizeVertical>\r\n        </Resize>\r\n      )\r\n    }\r\n    else {\r\n      return <PdfViewer />\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    consoleOpen: state.pythesis.consoleOpen\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    ...bindActionCreators({\r\n      queryConfig\r\n    }),\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport './index.css'\r\nimport App from './components/App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}><App /></Provider>,\r\n  document.getElementById('root')\r\n);\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 32;","module.exports = __webpack_public_path__ + \"static/media/loading.52e316e7.svg\";"],"sourceRoot":""}